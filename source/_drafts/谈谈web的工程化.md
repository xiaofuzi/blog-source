title: 谈谈web的工程化
tags:
---

如今的网站变得越来越庞大？

* 页面需要引入大量的JS、CSS、图片等资源文件
* 网页在变得越来越复杂
* 页面端的代码变得更多

web页面变得复杂，代码量增多，为了便于管理，所以需要模块化、工程化。

<p class="text-important">如果你的项目并不是很庞大，你自己就可以比较好的处理各种资源的依赖以及管理，那么工程化的工具对你来说也许并不是必要的。</p>

模块化这个概念并不是因为web变得复杂才出现，其实早已经再软件工程中使用。

* c/c++语言中可以将功能进行抽象然后在不同的文件中实现相应的功能，最后使用include的方式将各个文件连接起来
* web中我们可以通过\script、style标签将脚本和样式文件从页面中分离出去
* CMD/AMD模块管理
* ES6 自带模块加载功能(import)

这里我们看一下浏览器提供的js管理功能有什么不足，假如我们现在有一个页面需要引入如下的几个js文件

```javascript
<script src="script01.js"></script>
<script src="script02.js"></script>
<script src="script03.js"></script>
<script src="script04.js"></script>
<script src="script05.js"></script>
```

可能会遇到的问题：

* 命名冲突(全局的变量、函数)
* js文件的顺序和位置会对结果产生影响
* 需要自己处理依赖关系
* 文件变多将会难以管理维护

在这里我们将每个文件当做一个模块来管理，因为文件最终需要传到客户端才能执行，所以在传输上也需要做相应的处理。

* 每个模块一个请求
> 即每个模块对应的文件都会单独的加载到浏览器上，这种方式也是浏览器默认使用的加载方式

* 所有的模块只请求一次
> 先在本地将所有的模块文件打包成一个文件，然后浏览器只需要请求该文件即可，不足的是不能做到根据依赖需要进行请求加载

* 对模块进行本地编译的时候根据依赖关系打包成几个包，这样就可以用更灵活的方式进行加载而不用每次都全部加载到客户端。(参考 [Google's GWT](https://developers.google.com/web-toolkit/doc/latest/DevGuideCodeSplitting))

大多数的模块加载工具只针对js,webpack将其做得更彻底，页面中引用的资源都可以使用模块化的加载方式：

* css、less样式
* 图片
* 字体
* js
* etc.

资源编译的过程中往往需要考虑三个问题：

* 资源定位
* 内容嵌入
* 依赖声明


前端工程构建工具-fis

[FIS3](http://fis.baidu.com/fis3/index.html)，百度研发的一个比较好的前端构建工具。用来解决前端工程中性能优化、资源加载(异步、同步、按需、预加载、依赖管理、合并、内嵌)、模块化开发、开发规范、代码部署等问题。
















